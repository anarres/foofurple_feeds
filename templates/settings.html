{% extends "base.html" %}


{% block title %} 

Settings | Feed Reader

{% endblock %}



{% block javascript %}

<script type='text/javascript' src='{{ GLOBS.MEDIA_DIR }}js/utils.js'></script>
<script type='text/javascript' src='{{ GLOBS.MEDIA_DIR }}js/jsonFoo.js'></script>
<script type='text/javascript' src='{{ GLOBS.MEDIA_DIR }}js/settings.js'></script>

{% endblock %}



{% block settings_nav %} 

<ul>
    <li><a href='index.html'>Home</a></li>
    <li class='current'><a href='settings.html'>Settings</a></li>
</ul>

{% endblock %}




{% block nav %}

<h2>My Streams:</h2>

<ul>

{% for stre in streams %}

    <li><a href='{{ stre.filepath }}'>{{ stre.title }}</a></li>

{% endfor %}

</ul>

{% endblock %}



{% block main_content %}

<h2>Settings</h2>

<p>This is the place to add and remove feeds. If you wish, you can group the feeds that you want to be displayed together in sets.</p>

<p>Once you're satisfied with your changes, click SAVE ALL CHANGES at the bottom of this page, and you'll
be prompted to save a settings file.</p>

<p>If you don't want to save your changes, just reload this page to start anew.</p>

<div id="newFeedFoo">
    <p id="newFeedFooClose" onclick="newFeedFooClose()"><img src='{{ GLOBS.MEDIA_DIR }}images/close_icon.png' alt='close'></p>
    <h3>Add a new feed:</h3>
    <p>
        Feed url:
        <input type='text' id="feedNameButton" />
        <button onclick="reallyAddFeed()">Submit</button>
    </p>
</div>
<div id="addStream">
    <p id="addStreamClose" onclick="addStreamClose()"><img src='{{ GLOBS.MEDIA_DIR }}images/close_icon.png' alt='close'></p>
    <h3>Add a new set of feeds:</h3>
    <p>
        Name:
        <input type='text' id="newStreamName" />
        <button onclick="reallyAddStream()">Submit</button>
    </p>
</div>
<div id="saveAllChanges">
    <p id="saveAllChangesClose" onclick="saveAllChangesClose()"><img src='{{ GLOBS.MEDIA_DIR }}images/close_icon.png' alt='close'></p>
    <h3>Save all changes</h3>
    <p>To save your changes, please right-click the file below and 
        save it as {{ GLOBS.JSON_DIR }}streams.json. You'll probably
        need to overwrite an existing file.</p>
    <p><a id="saveAllChangesLink" href="">
        <img src='{{ GLOBS.MEDIA_DIR }}images/save.png' alt='save'>
    Save all changes</a></p>
    <p>Confused? Read <a href="">why do I have to save a text file?</a></p>
</div>


<div id="streamsGoHere">




</div> <!--#streamsGoHere-->

<button id="addStreamButton" onclick='addStream()'>New Set of Feeds</button>
<button class='bigButton' onclick='saveAllChanges()'>SAVE ALL CHANGES</button>

{% endblock %}

